# Enable Prometheus for all instances by class name
*.sink.prometheus.class=org.apache.spark.banzaicloud.metrics.sink.PrometheusSink
# Prometheus pushgateway address
*.sink.prometheus.pushgateway-address-protocol=http
*.sink.prometheus.pushgateway-address=prometheus-pushgateway.monitoring.svc:9091
*.sink.prometheus.period=60
*.sink.prometheus.unit=SECONDS
#*.sink.prometheus.pushgateway-enable-timestamp=<enable/disable metrics timestamp> - defaults to false
# Metrics name processing (version 2.3-1.1.0 +)
*.sink.prometheus.metrics-name-capture-regex=((spark_\\w{32}(_\\d{1,2})?|local_\\d{13})_)(.+)
*.sink.prometheus.metrics-name-replacement=$4
*.sink.prometheus.metrics-name-to-lowercase=true
#*.sink.prometheus.labels=<labels in label=value format separated by comma>
# Support for JMX Collector (version 2.3-2.0.0 +)
*.sink.prometheus.enable-dropwizard-collector=true
*.sink.prometheus.enable-jmx-collector=true
*.sink.prometheus.jmx-collector-config=/opt/spark/jmx-collector.yaml

# Enable HostName in Instance instead of Appid (Default value is false i.e. instance=${appid})
#*.sink.prometheus.enable-hostname-in-instance=true

# Enable JVM metrics source for all instances by class name
*.sink.jmx.class=org.apache.spark.metrics.sink.JmxSink
*.sink.jmx.class=org.apache.spark.metrics.sink.MetricsServlet
*.source.jvm.class=org.apache.spark.metrics.source.JvmSource
*.source.jvm.class=org.apache.spark.metrics.source.AccumulatorSource
